{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\ferna\\\\projetos\\\\projeto-prototipagem\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\classCallCheck.js\";\nimport _createClass from \"C:\\\\Users\\\\ferna\\\\projetos\\\\projeto-prototipagem\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\createClass.js\";\nimport { __decorate, __metadata } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { TaskService } from 'src/app/task.service';\nimport { ActivatedRoute, Router } from '@angular/router';\n\nvar TaskViewComponent = /*#__PURE__*/function () {\n  function TaskViewComponent(taskService, route, router) {\n    _classCallCheck(this, TaskViewComponent);\n\n    this.taskService = taskService;\n    this.route = route;\n    this.router = router;\n  }\n\n  _createClass(TaskViewComponent, [{\n    key: \"ngOnInit\",\n    value: function ngOnInit() {\n      var _this = this;\n\n      this.route.params.subscribe(function (params) {\n        if (params.listId) {\n          _this.selectedListId = params.listId;\n\n          _this.taskService.getTasks(params.listId).subscribe(function (tasks) {\n            _this.tasks = tasks;\n          });\n        } else {\n          _this.tasks = undefined;\n        }\n      });\n      this.taskService.getLists().subscribe(function (lists) {\n        _this.lists = lists;\n      });\n    }\n  }, {\n    key: \"onTaskClick\",\n    value: function onTaskClick(task) {\n      // we want to set the task to completed\n      this.taskService.complete(task).subscribe(function () {\n        // the task has been set to completed successfully\n        console.log(\"Completed successully!\");\n        task.completed = !task.completed;\n      });\n    }\n  }, {\n    key: \"onDeleteListClick\",\n    value: function onDeleteListClick() {\n      var _this2 = this;\n\n      this.taskService.deleteList(this.selectedListId).subscribe(function (res) {\n        _this2.router.navigate(['/lists']);\n\n        console.log(res);\n      });\n    }\n  }, {\n    key: \"onDeleteTaskClick\",\n    value: function onDeleteTaskClick(id) {\n      var _this3 = this;\n\n      this.taskService.deleteTask(this.selectedListId, id).subscribe(function (res) {\n        _this3.tasks = _this3.tasks.filter(function (val) {\n          return val._id !== id;\n        });\n        console.log(res);\n      });\n    }\n  }]);\n\n  return TaskViewComponent;\n}();\n\nTaskViewComponent = __decorate([Component({\n  selector: 'app-task-view',\n  templateUrl: './task-view.component.html',\n  styleUrls: ['./task-view.component.scss']\n}), __metadata(\"design:paramtypes\", [TaskService, ActivatedRoute, Router])], TaskViewComponent);\nexport { TaskViewComponent };","map":null,"metadata":{},"sourceType":"module"}